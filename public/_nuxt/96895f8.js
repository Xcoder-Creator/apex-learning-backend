(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{554:function(t,e,r){"use strict";const o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;if(!o)throw new Error("Unable to find global scope. Are you sure this is running in the browser?");if(!o.AbortController)throw new Error('Could not find "AbortController" in the global scope. You need to polyfill it first');t.exports.AbortController=o.AbortController},555:function(t,e,r){"use strict";var o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==o)return o;throw new Error("unable to locate global object")}();t.exports=e=o.fetch,o.fetch&&(e.default=o.fetch.bind(o)),e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response},563:function(t,e,r){var content=r(564);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("7132a15d",content,!0,{sourceMap:!1})},564:function(t,e,r){var o=r(26)(!1);o.push([t.i,".theme--light.v-divider{border-color:rgba(0,0,0,.12)}.theme--dark.v-divider{border-color:hsla(0,0%,100%,.12)}.v-divider{display:block;flex:1 1 0px;max-width:100%;height:0;max-height:0;border:solid;border-width:thin 0 0;transition:inherit}.v-divider--inset:not(.v-divider--vertical){max-width:calc(100% - 72px)}.v-application--is-ltr .v-divider--inset:not(.v-divider--vertical){margin-left:72px}.v-application--is-rtl .v-divider--inset:not(.v-divider--vertical){margin-right:72px}.v-divider--vertical{align-self:stretch;border:solid;border-width:0 thin 0 0;display:inline-flex;height:inherit;min-height:100%;max-height:100%;max-width:0;width:0;vertical-align:text-bottom;margin:0 -1px}.v-divider--vertical.v-divider--inset{margin-top:8px;min-height:0;max-height:calc(100% - 16px)}",""]),t.exports=o},601:function(t,e,r){"use strict";r(15),r(13),r(16),r(18),r(14),r(19);var o=r(4),n=(r(563),r(23));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=n.a.extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(t){var e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:c({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:c({role:"separator","aria-orientation":e},this.$attrs),on:this.$listeners})}})},704:function(t,e,r){var content=r(744);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("5107a045",content,!0,{sourceMap:!1})},743:function(t,e,r){"use strict";r(704)},744:function(t,e,r){var o=r(26)(!1);o.push([t.i,"#report_btn_block[data-v-2b31e8b9]{margin-top:30px}",""]),t.exports=o},788:function(t,e,r){"use strict";r.r(e);var o=r(45),n=(r(101),r(21),r(31),r(38),r(322),r(57),{methods:{submit_a_report:function(t,e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var n,l,c,d,_,f;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!0!==r.can_send_report){o.next=10;break}return r.can_send_report=!1,r.loading_linear=!0,n=r.$config.environment,l=null,"development"===n?l={method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("refresh_token"))},body:new URLSearchParams({access_token:localStorage.getItem("access_token"),report_type:t,report_option:e,class_code:r.$store.state.dialog.report_dialog.class_code,post_id:r.$store.state.dialog.report_dialog.post_id}),signal:r.controller.signal}:"production"===n&&(c=r.$store.state.app_tokens.login_access_token,l={method:"POST",headers:{Authorization:"Bearer ".concat(c)},body:new URLSearchParams({report_type:t,report_option:e,class_code:r.$store.state.dialog.report_dialog.class_code,post_id:r.$store.state.dialog.report_dialog.post_id}),signal:r.controller.signal}),o.next=8,r.submit_a_report_request(l);case 8:!0===(d=o.sent).status?"error"===(_=r.submit_a_report_response(d.result)).status?(r.can_send_report=!0,r.loading_linear=!1,r.$store.commit("dialog/report_dialog/reset_data"),setTimeout((function(){var t={value:!0,msg:_.msg,err:!0};r.$store.commit(r.$config.VUEX_UPDATE_ERR_MSG_DIALOG,t)}),30)):"token_expired"===_.status?("development"===n?(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")):"production"===n&&r.$store.commit("app_tokens/update_login_access_token",{value:null}),r.$store.commit("logout_user/update_is_logging_out",{value:!1}),r.$store.commit("unenroll_from_class/update_started_unenroll",{value:!1}),r.$store.commit(r.$config.VUEX_PAGE_LOADING_UPDATE_DATA,{value:!0}),r.$store.commit("user_details/user_details/reset_data"),r.$store.commit("class_details/reset_data"),r.$store.commit("app_components/reset_data"),r.$store.commit("unenroll_from_class/update_unenroll_from_class",{value:!1}),r.$router.push("/login")):"success"===_.status&&(null!==_.access_token&&("development"===(f=r.$config.environment)?localStorage.setItem("access_token",_.access_token):"production"===f&&r.$store.commit("app_tokens/update_login_access_token",{value:_.access_token})),r.can_send_report=!0,r.loading_linear=!1,r.$store.commit("dialog/report_dialog/reset_data"),setTimeout((function(){r.$store.commit(r.$config.VUEX_UPDATE_ERR_MSG_DIALOG,{value:!0,msg:"Report sent successfully!",err:!1})}),30)):!1===d.status&&(r.can_send_report=!0,r.loading_linear=!1,r.$store.commit("dialog/report_dialog/reset_data"),setTimeout((function(){r.$store.commit(r.$config.VUEX_UPDATE_ERR_MSG_DIALOG,{value:!0,msg:"Couldn't send report!",err:!0})}),30));case 10:case"end":return o.stop()}}),o)})))()}}}),l={methods:{submit_a_report_request:function(t){var e=this;return new Promise((function(r,o){fetch("".concat(e.$config.apiUrl,"/api/v1/submit-report"),t).then((function(t){return t.json()})).then((function(data){r({status:!0,result:data})})).catch((function(t){r({status:!1})}))}))}}},c=r(554),d=(r(555),{name:"ReportDialog",mixins:[n,l,{methods:{submit_a_report_response:function(data){if("missing_credentials"===data.status||"unauthorized"===data.status){return{status:"error",msg:"Couldn't send report!"}}if("error_occured"===data.status){return{status:"error",msg:"Couldn't send report!"}}if("token_expired"===data.status){return{status:"token_expired"}}if("user_not_found"===data.status){return{status:"error",msg:"Couldn't send report!"}}if("invalid_token"===data.status){return{status:"error",msg:"Couldn't send report!"}}if("invalid_report_type"===data.status||"invalid_report_option"===data.status){return{status:"error",msg:"Couldn't send report!"}}if("post_not_found"===data.status||"class_not_active"===data.status){return{status:"error",msg:"Couldn't send report!"}}if("report_created"===data.status){if("token_available"===data.token_info)return{status:"success",access_token:data.new_accessToken};if("no_token"===data.token_info){return{status:"success",access_token:null}}}}}}],data:function(){return{loading_linear:!1,can_send_report:!0,controller_x:new c.AbortController}},computed:{dialog:{get:function(){return!1===this.$store.state.dialog.report_dialog.value&&(this.can_send_report=!0,this.loading_linear=!1),this.$store.state.dialog.report_dialog.value},set:function(t){this.$store.commit("dialog/report_dialog/update_dialog",{value:t})}},controller:{get:function(){return this.controller_x},set:function(t){this.controller_x=t}}},methods:{close_dialog:function(){this.dialog=!1,this.can_send_report=!0,this.loading_linear=!1,this.controller.abort(),this.controller=new c.AbortController},send_report:function(t,e){this.submit_a_report(t,e)}},beforeDestroy:function(){this.controller.abort(),this.controller=new c.AbortController}}),_=(r(743),r(147)),f=r(148),v=r.n(f),m=r(107),h=r(100),k=r(80),w=r(227),x=r(601),$=r(218),y=r(319),component=Object(_.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{attrs:{justify:"center"}},[r("v-dialog",{attrs:{scrollable:"","max-width":"430px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-progress-linear",{attrs:{active:t.loading_linear,indeterminate:t.loading_linear,absolute:"",top:"",color:"primary",height:"10px"}}),t._v(" "),r("v-card-title",{staticStyle:{"font-size":"1.13rem"}},[t._v("What would you like to report?")]),t._v(" "),r("v-divider"),t._v(" "),r("v-card-text",{staticStyle:{height:"300px"},attrs:{id:"card_txt_body"}},[r("div",{attrs:{id:"report_btn_block"}},[r("v-btn",{staticStyle:{background:"#fff"},attrs:{id:"report_btn",block:""},on:{click:function(e){"student-classes"===t.$route.name||"teacher-classes"===t.$route.name?t.send_report("class",1):t.send_report("post",1)}}},[t._v("\n                          Spam\n                      ")])],1),t._v(" "),r("div",{attrs:{id:"report_btn_block"}},[r("v-btn",{staticStyle:{background:"#fff"},attrs:{id:"report_btn",block:""},on:{click:function(e){"student-classes"===t.$route.name||"teacher-classes"===t.$route.name?t.send_report("class",2):t.send_report("post",2)}}},[t._v("\n                          Sexually explicit\n                      ")])],1),t._v(" "),r("div",{attrs:{id:"report_btn_block"}},[r("v-btn",{staticStyle:{background:"#fff"},attrs:{id:"report_btn",block:""},on:{click:function(e){"student-classes"===t.$route.name||"teacher-classes"===t.$route.name?t.send_report("class",3):t.send_report("post",3)}}},[t._v("\n                          Violent / dangerous\n                      ")])],1),t._v(" "),r("div",{attrs:{id:"report_btn_block"}},[r("v-btn",{staticStyle:{background:"#fff"},attrs:{id:"report_btn",block:""},on:{click:function(e){"student-classes"===t.$route.name||"teacher-classes"===t.$route.name?t.send_report("class",4):t.send_report("post",4)}}},[t._v("\n                          Hate speech\n                      ")])],1),t._v(" "),r("div",{attrs:{id:"report_btn_block"}},[r("v-btn",{staticStyle:{background:"#fff"},attrs:{id:"report_btn",block:""},on:{click:function(e){"student-classes"===t.$route.name||"teacher-classes"===t.$route.name?t.send_report("class",5):t.send_report("post",5)}}},[t._v("\n                          Copyright\n                      ")])],1)]),t._v(" "),r("v-divider"),t._v(" "),r("v-card-actions",[r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.close_dialog()}}},[t._v("\n                      Close\n                  ")])],1)],1)],1)],1)}),[],!1,null,"2b31e8b9",null);e.default=component.exports;v()(component,{VBtn:m.a,VCard:h.a,VCardActions:k.a,VCardText:k.b,VCardTitle:k.c,VDialog:w.a,VDivider:x.a,VProgressLinear:$.a,VRow:y.a})}}]);