(window.webpackJsonp=window.webpackJsonp||[]).push([[57,61],{1027:function(t,e,o){"use strict";o.r(e);o(102),o(39),o(73),o(58),o(57);var n=o(45),r=(o(101),o(21),o(31),o(38),o(322),o(29),{methods:{login_operation:function(t,e){var o=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var r,l,d,_,c,f,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.login_btn=!1,o.login_loading_btn=!0,o.loader="loading",r={method:"POST",body:new URLSearchParams({email:t,password:e}),signal:o.controller.signal},n.next=6,o.login_fetch_request(r);case 6:!0===(l=n.sent).status?"error"===(d=o.login_operation_response(l.result)).status?(o.login_btn=!0,o.login_loading_btn=!1,o.loader="loading",_={value:!0,msg:d.msg,err:!0},o.$store.commit(o.$config.VUEX_UPDATE_ERR_MSG_DIALOG,_),o.$store.commit(o.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_LOGIN,!0)):"successful"===d.status?(o.$store.commit(o.$config.VUEX_STORE_USER_DETAILS,d.user_details),"development"===(c=o.$config.environment)?(localStorage.setItem("access_token",d.access_token),localStorage.setItem("refresh_token",d.refresh_token)):"production"===c&&o.$store.commit("app_tokens/update_login_access_token",{value:d.access_token}),"Student"===d.user_details.user_role?o.$router.push(o.$config.student_classesUrl):"Teacher"===d.user_details.user_role&&o.$router.push(o.$config.teacher_classesUrl)):"not_verified"===d.status&&("development"===(f=o.$config.environment)?localStorage.setItem("verify_acct_token",d.access_token):"production"===f&&o.$store.commit("app_tokens/update_verify_account_token",{value:d.access_token}),o.login_btn=!0,o.login_loading_btn=!1,o.loader="loading",o.$store.commit(o.$config.VUEX_UPDATE_VERIF_ACCT_DIALOG_LOGIN,{name:d.name,email:d.email}),o.$store.commit(o.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_LOGIN,!0)):!1===l.status&&(o.login_btn=!0,o.login_loading_btn=!1,o.loader="loading",o.$store.commit(o.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_LOGIN,!0),m={value:!0,msg:"An error just occured!",err:!0},o.$store.commit(o.$config.VUEX_UPDATE_ERR_MSG_DIALOG,m));case 8:case"end":return n.stop()}}),n)})))()}}}),l={methods:{login_fetch_request:function(t){var e=this;return new Promise((function(o,n){fetch("".concat(e.$config.apiUrl,"/api/v1/login"),t).then((function(t){return t.json()})).then((function(data){o({status:!0,result:data})})).catch((function(t){o({status:!1})}))}))}}},d=o(718),_=o(554),c=(o(555),{name:"LoginForm",mixins:[r,l,{methods:{login_operation_response:function(data){if("missing_email"===data.status){return{status:"error",msg:"Email is missing!"}}if("missing_password"===data.status){return{status:"error",msg:"Password is missing!"}}if("error_occured"===data.status){return{status:"error",msg:"An error just occured!"}}if("login_successfull"===data.status){var t=data.user_details;return t.user_settings=data.user_settings,{status:"successful",user_details:t,access_token:data.accessToken,refresh_token:data.refreshToken,user_role:data.user_details.role}}if("wrong_password"===data.status){return{status:"error",msg:"Wrong password!"}}if("login_successfull_but_not_verified"===data.status)return{status:"not_verified",name:data.user_name,email:data.user_email,access_token:data.accessToken};if("account_does_not_exist"===data.status){return{status:"error",msg:"This account does not exist!"}}if("invalid_password"===data.status){return{status:"error",msg:"This password is invalid!"}}if("invalid_email"===data.status){return{status:"error",msg:"This email is invalid!"}}if("invalid_credentials"===data.status){return{status:"error",msg:"An error just occured!"}}}}},d.a],data:function(){return{emailRules:[function(t){return!/^ *$/.test(t.replace(/^[ ]+|[ ]+$/g,"").split('"').join(""))||"E-mail is required"}],passwordRules:[function(t){return!/^ *$/.test(t.replace(/^[ ]+|[ ]+$/g,"").split('"').join(""))||"Valid password is required"}],login:!1,email:"",password:"",show:!1,login_btn:!0,login_loading_btn:!1,loading:!0,controller_x:new _.AbortController}},computed:{controller:{get:function(){return this.controller_x},set:function(t){this.controller_x=t}}},watch:{loader:function(){this.loader}},methods:{open_forgot_password_dialog:function(){this.$store.commit(this.$config.VUEX_LOGIN_ROUTE_OPEN_FORGOT_PASSWORD_DIALOG,!0)},validate:function(){!0===this.$store.state.login.login_route_config.enable_login&&(this.$refs.form.validate(),!0===this.$refs.form.validate()&&(this.$store.commit(this.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_LOGIN,!1),this.login_operation(this.email,this.password)))}},beforeDestroy:function(){var t=this;this.controller.abort(),this.controller=new _.AbortController,setTimeout((function(){t.login_route_leave()}),30)}}),f=(o(967),o(147)),m=o(148),h=o.n(m),v=o(107),E=o(650),O=o(154),component=Object(f.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}},[o("div",{attrs:{id:"email_poo9i"}},[o("p",{attrs:{id:"label_vvtxt"}},[t._v("Email")]),t._v(" "),o("v-text-field",{attrs:{autocomplete:"off",rules:t.emailRules,type:"email",id:"inp_field",placeholder:"Enter your email",outlined:"",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),o("div",{attrs:{id:"password_poo9i"}},[o("p",{attrs:{id:"label_vvtxt"}},[t._v("Password")]),t._v(" "),o("v-text-field",{attrs:{type:t.show?"text":"password",autocomplete:"off",rules:t.passwordRules,"append-icon":t.show?"mdi-eye":"mdi-eye-off",id:"inp_field",placeholder:"Enter your password",outlined:"",required:""},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),o("div",{attrs:{id:"frjs7"}},[o("a",{attrs:{id:"forgot_pw_lnk",href:"javascript:void(0)"},on:{click:t.open_forgot_password_dialog}},[t._v("Forgot password")])]),t._v(" "),o("div",{attrs:{id:"login_space_cxc"}},[t.login_btn?o("v-btn",{attrs:{block:"",color:"primary",id:"signin_btn",disabled:!t.login},on:{click:t.validate}},[t._v("\n            Sign in\n        ")]):t.login_loading_btn?o("v-btn",{attrs:{block:"",id:"signin_btn",loading:t.loading,disabled:t.loading,color:"secondary",loader:"loading"}},[t._v("\n            Sign in\n        ")]):t._e()],1)])}),[],!1,null,"5dbffa92",null);e.default=component.exports;h()(component,{VBtn:v.a,VForm:E.a,VTextField:O.a})},554:function(t,e,o){"use strict";const n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;if(!n)throw new Error("Unable to find global scope. Are you sure this is running in the browser?");if(!n.AbortController)throw new Error('Could not find "AbortController" in the global scope. You need to polyfill it first');t.exports.AbortController=n.AbortController},555:function(t,e,o){"use strict";var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();t.exports=e=n.fetch,n.fetch&&(e.default=n.fetch.bind(n)),e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response},650:function(t,e,o){"use strict";var n=o(4),r=(o(41),o(67),o(236),o(16),o(14),o(57),o(91),o(15),o(13),o(18),o(19),o(8)),l=o(114),d=o(151);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(r.a)(l.a,Object(d.b)("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var t=this,e=function(input){return input.$watch("hasError",(function(e){t.$set(t.errorBag,input._uid,e)}),{immediate:!0})},o={_uid:input._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?o.shouldValidate=input.$watch("shouldValidate",(function(n){n&&(t.errorBag.hasOwnProperty(input._uid)||(o.valid=e(input)))})):o.valid=e(input),o},validate:function(){return 0===this.inputs.filter((function(input){return!input.validate(!0)})).length},reset:function(){this.inputs.forEach((function(input){return input.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(input){return input.resetValidation()})),this.resetErrorBag()},register:function(input){this.inputs.push(input),this.watchers.push(this.watchInput(input))},unregister:function(input){var t=this.inputs.find((function(i){return i._uid===input._uid}));if(t){var e=this.watchers.find((function(i){return i._uid===t._uid}));e&&(e.valid(),e.shouldValidate()),this.watchers=this.watchers.filter((function(i){return i._uid!==t._uid})),this.inputs=this.inputs.filter((function(i){return i._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:c({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},718:function(t,e,o){"use strict";e.a={methods:{login_route_leave:function(){this.$store.commit(this.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_LOGIN,!0);if(this.$store.commit(this.$config.VUEX_UPDATE_ERR_MSG_DIALOG,{value:!1,msg:"",err:!1}),this.$store.commit(this.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_VERIF_ACCT,!0),this.$store.commit(this.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!0),this.$store.commit(this.$config.VUEX_UPDATE_VERIF_ACCT_DIALOG_LOGIN,{name:"",email:""}),this.$store.commit(this.$config.VUEX_CLOSE_ACCT_VERIF_DIALOG),this.$store.commit(this.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_CHECK_EMAIL,!0),this.$store.commit(this.$config.VUEX_LOGIN_ROUTE_CLOSE_FORGOT_PASSWORD_DIALOG),this.$store.commit(this.$config.VUEX_LOGIN_ROUTE_UPDATE_RESET_CODE_DIALOG,!1),this.$store.commit(this.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_VALIDATE_RESET_CODE,!0),this.$store.commit(this.$config.VUEX_LOGIN_ROUTE_CLOSE_RESET_CODE_DIALOG),this.$store.commit(this.$config.VUEX_PASSWORD_RESET_CODE_UPDATE,{reset_code:""}),this.$store.commit(this.$config.VUEX_LOGIN_ROUTE_UPDATE_RESET_PASSWORD_DIALOG,!1),this.$store.commit(this.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_RESET_PASSWORD,!0),this.$store.commit(this.$config.VUEX_LOGIN_ROUTE_CLOSE_RESET_PASSWORD_DIALOG),!1===this.$store.state.user_details.user_details.is_logged_in){this.$store.commit(this.$config.VUEX_STORE_USER_DETAILS,{value:!1,user_name:"",user_email:"",user_role:"",user_id:0,user_profile_image:"",user_settings:{}})}this.$store.commit("app_tokens/update_verify_account_token",{value:"TEST_TOKEN"}),this.$store.commit("app_tokens/update_password_reset_token",{value:"TEST_TOKEN"})}}}},863:function(t,e,o){var content=o(968);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(27).default)("323c568f",content,!0,{sourceMap:!1})},967:function(t,e,o){"use strict";o(863)},968:function(t,e,o){var n=o(26)(!1);n.push([t.i,".app_component[data-v-5dbffa92],.app_data[data-v-5dbffa92]{height:100%}#login_body[data-v-5dbffa92]{display:flex;flex-direction:row;height:100%}#login_xc_form[data-v-5dbffa92]{padding:150px;width:100%;background:#fff;position:relative;overflow:auto}#login_box_sx3[data-v-5dbffa92]{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#login_xc_bg_img[data-v-5dbffa92]{padding:150px;width:100%;background:#f3f5f9;position:relative}#ajjs7[data-v-5dbffa92]{width:130px}#bg_jja7z[data-v-5dbffa92]{text-align:center;width:240px;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#sjj8sxz[data-v-5dbffa92]{text-align:center;font-weight:800;font-size:1.13rem;margin-top:5px}#title_left[data-v-5dbffa92],#title_middle[data-v-5dbffa92]{color:#42b72a}#title_right[data-v-5dbffa92]{color:#1976d2}#para_hytxt[data-v-5dbffa92]{font-size:.96rem;margin-top:6px}#label_vvtxt[data-v-5dbffa92]{font-size:.96rem;font-weight:600;margin-bottom:6px}#forgot_pw_lnk[data-v-5dbffa92]{text-decoration:none;font-size:.93rem;color:#1976d2!important}#frjs7[data-v-5dbffa92]{text-align:left}#login_space_cxc[data-v-5dbffa92]{margin-top:23px}#have_an_acct_text[data-v-5dbffa92]{font-size:.93rem;text-align:center;margin-top:25px}#login_link[data-v-5dbffa92]{text-decoration:none;color:#1976d2!important}#kjs7x[data-v-5dbffa92]{width:60px}#img_xxc4s[data-v-5dbffa92]{text-align:left;margin-bottom:10px;display:none}#wave_hand[data-v-5dbffa92]{position:relative;top:5px;left:5px}@media only screen and (max-width:950px){#login_box_sx3[data-v-5dbffa92]{width:300px}#login_xc_bg_img[data-v-5dbffa92],#login_xc_form[data-v-5dbffa92]{padding:20px}}@media only screen and (max-width:708px){#login_box_sx3[data-v-5dbffa92]{width:100%;padding-left:20px;padding-right:20px}}@media only screen and (max-width:510px){#login_xc_bg_img[data-v-5dbffa92]{display:none}#img_xxc4s[data-v-5dbffa92]{display:block}}@media only screen and (max-width:416px){#img_xxc4s[data-v-5dbffa92],#login_txt[data-v-5dbffa92],#para_hytxt[data-v-5dbffa92]{text-align:center}#login_data_juajjnx5[data-v-5dbffa92]{margin-top:20px}}@media only screen and (max-height:550px){#login_box_sx3[data-v-5dbffa92]{margin:0}#bg_jja7z[data-v-5dbffa92],#login_box_sx3[data-v-5dbffa92]{position:absolute;top:unset;left:50%;transform:translate(-50%)}#bg_jja7z[data-v-5dbffa92]{margin:120px 0 0}#login_body[data-v-5dbffa92]{height:550px}#have_an_acct_text[data-v-5dbffa92]{margin-bottom:30px}#login_xc_form[data-v-5dbffa92]{padding-top:70px}}",""]),t.exports=n}}]);