(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{611:function(e,t,r){"use strict";var o=r(45);r(101),r(29),r(14),r(57),r(21),r(31),r(38),r(322);t.a={methods:{teacher_fetch_class_list:function(e,t,r,_){var c=this;return Object(o.a)(regeneratorRuntime.mark((function l(){var m,n,d,h,v,$,f;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:"teacher-stream"===c.$route.name?(c.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!1}),c.$store.commit("teacher_streams_page/stream_comp/update_can_create_post",{value:!1}),c.$store.commit("teacher_streams_page/teacher_stream_route_config/update_fetch_more_posts",{value:!1}),c.$store.commit("teacher_streams_page/stream_comp/update_spinner",{value:!1}),c.$store.commit("teacher_streams_page/teacher_stream_route_config/update_delete_class_post",{value:!1})):"teacher-classwork"===c.$route.name?(c.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!0}),c.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!1}),c.$store.commit("teacher_classwork_page/classwork_comp/update_classwork_fetched",{value:!1})):"teacher-people"===c.$route.name?(c.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!0}),c.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!1}),c.$store.commit("teacher_people_page/people_comp/update_people_data_fetched",{value:!1})):"teacher-view_classwork"===c.$route.name?(c.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!0}),c.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!1}),c.$store.commit("teacher_view_classwork_page/classwork_details_comp/update_classwork_details_fetched",{value:!1})):"teacher-archived_classes"===c.$route.name?c.$store.commit("app_components/update_loading_linear",{value:!0}):"teacher-classes"===c.$route.name&&!0===_&&(c.$store.commit("snackbar/snackbar/reset_data"),c.$store.commit("app_components/reset_data"),c.$store.commit("class_details/reset_data"),c.$store.commit("app_components/update_refresh_data",{value:!1})),c.$store.commit("app_components/update_loading_linear",{value:!0}),m=null,n=function(){var l=Object(o.a)(regeneratorRuntime.mark((function l(m){var n,d,h,v,$,f,k,w,A,E,U,R,D,x;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return c.$store.commit("app_components/update_loading_linear",{value:!0}),l.next=3,c.teacher_fetch_class_list_fetch_request(m);case 3:!0===(n=l.sent).status?(d=c.teacher_fetch_class_list_response(n.result),c.$store.commit("app_components/update_loading_linear",{value:!0}),"error"===d.status?(c.$store.commit("unenroll_from_class/update_started_unenroll",{value:!1}),"teacher-classes"===(h=c.$route.name)||"teacher-settings"===h||"teacher-archived_classes"===h?(c.$store.commit("classes_home_page/utils/update_value",{value:!0}),"development"===(v=c.$config.environment)?($={value:!0,text:d.msg},c.$store.commit(c.$config.VUEX_UPDATE_SNACKBAR,$)):"production"===v&&(!0===d.for_prod?(c.$store.commit("app_tokens/update_login_access_token",{value:null}),c.$store.commit("user_details/user_details/reset_data"),c.$store.commit("class_details/reset_data"),c.$store.commit("app_components/reset_data"),c.$store.commit("unenroll_from_class/update_unenroll_from_class",{value:!1}),c.$store.commit("unenroll_from_class/update_started_unenroll",{value:!1}),c.$store.commit(c.$config.VUEX_PAGE_LOADING_UPDATE_DATA,{value:!0}),c.$router.push("/login/")):(f={value:!0,text:d.msg},c.$store.commit(c.$config.VUEX_UPDATE_SNACKBAR,f)))):(k={value:!0,text:d.msg},c.$store.commit(c.$config.VUEX_UPDATE_SNACKBAR,k),"teacher-stream"===c.$route.name?(c.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),c.$store.commit("teacher_streams_page/stream_comp/update_can_create_post",{value:!1}),c.$store.commit("teacher_streams_page/teacher_stream_route_config/update_fetch_more_posts",{value:!1}),c.$store.commit("teacher_streams_page/stream_comp/update_spinner",{value:!1}),c.$store.commit("teacher_streams_page/teacher_stream_route_config/update_delete_class_post",{value:!1}),c.$store.commit("dialog/bg_class_img_list_dialog/update_disable_select_theme",{value:!1}),c.$store.commit("archive_a_class/update_started_archive",{value:!1}),c.$store.commit("classes_home_page/classes_home_route_config/update_enable_edit_class",{value:!0}),c.$store.commit("classes_home_page/classes_home_route_config/update_enable_archive_class",{value:!0})):"teacher-classwork"===c.$route.name?(c.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!0}),c.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),c.$store.commit("teacher_classwork_page/classwork_comp/update_classwork_fetched",{value:!1})):"teacher-people"===c.$route.name?(c.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!0}),c.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),c.$store.commit("teacher_people_page/people_comp/update_people_data_fetched",{value:!1})):"teacher-view_classwork"===c.$route.name&&(c.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!0}),c.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),c.$store.commit("teacher_view_classwork_page/classwork_details_comp/update_classwork_details_fetched",{value:!1}))),"teacher-stream"!==c.$route.name&&(c.is_data_loaded=!1,c.is_data_available=!0,c.loading_linear=!0,c.$store.commit("class_details/reset_data"),c.$store.commit("app_components/update_refresh_data",{value:!0}),c.$store.commit("unenroll_from_class/update_unenroll_from_class",{value:!1}))):"token_expired"===d.status?(c.$store.commit("unenroll_from_class/update_started_unenroll",{value:!1}),c.$store.commit(c.$config.VUEX_PAGE_LOADING_UPDATE_DATA,{value:!0}),"development"===(w=c.$config.environment)?(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")):"production"===w&&c.$store.commit("app_tokens/update_login_access_token",{value:null}),c.$store.commit("user_details/user_details/reset_data"),c.$store.commit("class_details/reset_data"),c.$store.commit("app_components/reset_data"),c.$store.commit("unenroll_from_class/update_unenroll_from_class",{value:!1}),c.$router.push("/login")):"success"===d.status&&(c.$store.commit("app_components/update_loading_linear",{value:!0}),"token_available"===d.value&&("development"===(A=c.$config.environment)?localStorage.setItem("access_token",d.new_access_token):"production"===A&&c.$store.commit("app_tokens/update_login_access_token",{value:d.new_access_token})),"teacher-stream"===(E=c.$route.name)||"teacher-classwork"===E||"teacher-people"===E||"teacher-view_classwork"===E?e?(c.$store.commit("class_details/update_class_data",{value:d.class_data.length}),c.$store.commit("class_details/update_class_list",{details:d.class_data}),U=c.$store.state.class_details.class_list,R=[],U.length>0?(U.forEach((function(t){t.class_code===e&&R.push(t)})),R.length>0&&1===R.length?(c.$store.commit("class_info/update_class_info",{value:R[0]}),c.$store.commit("class_id/update_class_id",{value:R[0].id}),c.$store.commit("page_loading/page_loading/update_data",{value:!1}),"teacher-stream"===E?c.teacher_fetch_class_posts(e,0):"teacher-classwork"===E?c.teacher_fetch_classworks(e):"teacher-people"===E?c.teacher_view_people(e):"teacher-view_classwork"===E&&(c.$route.query.id?c.teacher_fetch_classwork_details(e,c.$route.query.id):c.$router.push("/teacher/classes/"))):c.$router.push("/teacher/classes/")):c.$router.push("/teacher/classes/")):c.$router.push("/teacher/classes/"):function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){var o,l,m,n,h,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("teacher-classes"!==c.$route.name){e.next=6;break}if(!0!==_){e.next=4;break}e.next=6;break;case 4:return e.next=6,c.fetch_archived_classes(null,null,null);case 6:c.$store.commit("classes_home_page/utils/update_value",{value:!1}),o={value:!1,text:""},c.$store.commit(c.$config.VUEX_UPDATE_SNACKBAR,o),c.$store.commit("app_components/update_is_data_loaded",{value:!0}),c.$store.commit("class_details/update_class_data",{value:d.class_data.length}),d.class_data.length>0?c.$store.commit("app_components/update_is_data_available",{value:!0}):c.$store.commit("app_components/update_is_data_available",{value:!1}),c.$store.commit("class_details/update_class_list",{details:d.class_data}),l=c.$store.state.unenroll_from_class.unenroll_from_class,c.$store.commit("dialog/unenroll_dialog/unenroll_dialog/update_value",{value:!1}),c.unenroll_loading=!1,!0===l&&(m={value:!0,msg:"Unenrolled from class successfully!",err:!1},c.$store.commit(c.$config.VUEX_UPDATE_ERR_MSG_DIALOG,m),c.$store.commit("unenroll_from_class/update_unenroll_from_class",{value:!1})),n=c.$store.state.archive_a_class.archive_class,c.$store.commit("dialog/archive_dialog/archive_dialog/update_value",{value:!1}),c.archive_class_loading=!1,!0===n&&(h={value:!0,msg:"Archived class successfully!",err:!1},c.$store.commit(c.$config.VUEX_UPDATE_ERR_MSG_DIALOG,h),c.$store.commit("archive_a_class/update_archive_class",{value:!1})),"teacher-archived_classes"===c.$route.name&&(c.$store.commit("app_components/update_loading_linear",{value:!0}),!0===t?c.fetch_archived_classes(!0,null,null):!0===r?c.fetch_archived_classes(null,!0,null):c.fetch_archived_classes(null,null,null)),"teacher-classes"===c.$route.name&&(c.$store.commit("app_components/update_loading_linear",{value:!0}),!0===_&&(c.$store.commit("classes_home_page/classes_home_route_config/update_enable_edit_class",{value:!0}),c.$store.commit("app_components/update_refresh_data",{value:!0}),c.$store.commit("archive_a_class/reset_data"),c.$store.commit("classes_home_page/classes_home_route_config/reset_data"),v={value:!0,msg:"Class edited successfully!",err:!1},c.$store.commit(c.$config.VUEX_UPDATE_ERR_MSG_DIALOG,v),c.$store.commit("edit_class_dialog/update_edit_class_btn",{value:!0}),c.$store.commit("edit_class_dialog/update_edit_class_btn_load",{value:!1}))),c.$store.commit("dialog/bg_class_img_list_dialog/update_disable_select_theme",{value:!1}),setTimeout((function(){c.$store.commit("unenroll_from_class/update_started_unenroll",{value:!1}),c.$store.commit("app_components/update_refresh_data",{value:!0}),"teacher-stream"===c.$route.name?(c.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),c.$store.commit("teacher_streams_page/stream_comp/update_can_create_post",{value:!0}),c.$store.commit("teacher_streams_page/teacher_stream_route_config/update_fetch_more_posts",{value:!0}),c.$store.commit("teacher_streams_page/stream_comp/update_spinner",{value:!1}),c.$store.commit("teacher_streams_page/teacher_stream_route_config/update_delete_class_post",{value:!0})):"teacher-classwork"===c.$route.name?(c.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!1}),c.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),c.$store.commit("teacher_classwork_page/classwork_comp/update_classwork_fetched",{value:!0})):"teacher-people"===c.$route.name?(c.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!1}),c.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),c.$store.commit("teacher_people_page/people_comp/update_people_data_fetched",{value:!0})):"teacher-view_classwork"===c.$route.name?(c.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!1}),c.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),c.$store.commit("teacher_view_classwork_page/classwork_details_comp/update_classwork_details_fetched",{value:!0})):"teacher-classes"===c.$route.name?(c.$store.commit("app_components/update_loading_linear",{value:!1}),c.$store.commit("classes_home_page/classes_home_route_config/update_enable_create_class",{value:!0})):"teacher-settings"===c.$route.name&&c.$store.commit("app_components/update_loading_linear",{value:!1})}),1300);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()())):!1===n.status&&(c.$store.commit("unenroll_from_class/update_started_unenroll",{value:!1}),c.$store.commit("app_components/reset_data"),c.$store.commit("class_details/reset_data"),c.$store.commit("unenroll_from_class/update_unenroll_from_class",{value:!1}),"teacher-classes"===(h=c.$route.name)||"teacher-settings"===h||"teacher-archived_classes"===h?(c.$store.commit("classes_home_page/utils/update_value",{value:!0}),D={value:!0,text:"An error just occured!"},c.$store.commit(c.$config.VUEX_UPDATE_SNACKBAR,D),c.$store.commit("app_components/update_refresh_data",{value:!0}),c.$store.commit("app_components/update_loading_linear",{value:!0})):(x={value:!0,text:"An error just occured!"},c.$store.commit(c.$config.VUEX_UPDATE_SNACKBAR,x),"teacher-stream"===c.$route.name?(c.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),c.$store.commit("teacher_streams_page/stream_comp/update_can_create_post",{value:!1}),c.$store.commit("teacher_streams_page/teacher_stream_route_config/update_fetch_more_posts",{value:!1}),c.$store.commit("teacher_streams_page/stream_comp/update_spinner",{value:!1}),c.$store.commit("teacher_streams_page/teacher_stream_route_config/update_delete_class_post",{value:!1}),c.$store.commit("dialog/bg_class_img_list_dialog/update_disable_select_theme",{value:!1})):"teacher-classwork"===c.$route.name?(c.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!0}),c.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),c.$store.commit("teacher_classwork_page/classwork_comp/update_classwork_fetched",{value:!1})):"teacher-people"===c.$route.name?(c.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!0}),c.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),c.$store.commit("teacher_people_page/people_comp/update_people_data_fetched",{value:!1})):"teacher-view_classwork"===c.$route.name&&(c.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!0}),c.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),c.$store.commit("teacher_view_classwork_page/classwork_details_comp/update_classwork_details_fetched",{value:!1})),c.$store.commit("app_components/update_loading_linear",{value:!0})));case 5:case"end":return l.stop()}}),l)})));return function(e){return l.apply(this,arguments)}}(),"development"===(d=c.$config.environment)?m={method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("refresh_token"))},body:new URLSearchParams({access_token:localStorage.getItem("access_token")}),signal:c.controller.signal}:"production"===d&&(h=c.$store.state.app_tokens.login_access_token,m={method:"POST",headers:{Authorization:"Bearer ".concat(h)},signal:c.controller.signal}),"teacher-stream"===(v=c.$route.name)||"teacher-classwork"===v||"teacher-people"===v||"teacher-view_classwork"===v?n(m):"teacher-archived_classes"===v?!0===c.$store.state.archived_classes_page.page_comp.is_data_loaded?!0===c.$store.state.archived_classes_page.page_comp.is_data_available?(c.$store.commit("archived_classes_page/page_comp/update_is_data_loaded",{value:!0}),c.$store.commit("archived_classes_page/page_comp/update_is_data_available",{value:!0}),c.$store.commit("app_components/update_loading_linear",{value:!1})):(c.$store.commit("archived_classes_page/page_comp/update_is_data_loaded",{value:!0}),c.$store.commit("archived_classes_page/page_comp/update_is_data_available",{value:!1}),c.$store.commit("app_components/update_loading_linear",{value:!1})):(c.$store.commit("archived_classes_page/page_comp/update_archived_classes",{archived_classes:[]}),c.$store.commit("app_components/update_loading_linear",{value:!0}),c.$store.commit("archived_classes_page/page_comp/update_is_data_loaded",{value:!1}),c.$store.commit("archived_classes_page/page_comp/update_is_data_available",{value:!1}),n(m)):!0===($=c.$store.state.app_components.is_data_loaded)?null===(f=c.$store.state.app_components.is_data_available)||!1===f?(c.$store.commit("app_components/reset_data"),c.$store.commit("app_components/update_refresh_data",{value:!1}),c.$store.commit("class_details/reset_data"),n(m)):!0===_?n(m):c.$store.commit("app_components/update_loading_linear",{value:!1}):!1===$&&(c.$store.commit("app_components/reset_data"),c.$store.commit("app_components/update_refresh_data",{value:!1}),c.$store.commit("class_details/reset_data"),n(m));case 8:case"end":return l.stop()}}),l)})))()}}}},612:function(e,t,r){"use strict";r(21);t.a={methods:{teacher_fetch_class_list_fetch_request:function(e){var t=this;return new Promise((function(r,o){fetch("".concat(t.$config.apiUrl,"/api/v1/teacher/fetch-class-details"),e).then((function(e){return e.json()})).then((function(data){r({status:!0,result:data})})).catch((function(e){r({status:!1})}))}))}}}},613:function(e,t,r){"use strict";t.a={methods:{teacher_fetch_class_list_response:function(data){if("missing_credentials"===data.status){return{status:"error",for_prod:!0,msg:"An error just occured!"}}if("error_occured"===data.status){return{status:"error",msg:"An error just occured!"}}if("token_expired"===data.status){return{status:"token_expired"}}if("details_fetched_successfully"===data.status){if("token_available"===data.token_info)return{status:"success",new_access_token:data.new_accessToken,class_data:data.details,value:"token_available"};if("no_token"===data.token_info)return{status:"success",class_data:data.details,value:"no_token"}}else{if("role_error"===data.status){return{status:"role_error"}}if("user_not_found"===data.status){return{status:"error",msg:"An error just occured!"}}if("invalid_token"===data.status){return{status:"error",msg:"An error just occured!"}}}}}}}}]);