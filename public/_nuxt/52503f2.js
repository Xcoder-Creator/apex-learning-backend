(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{864:function(e,t,r){"use strict";var o=r(45);r(101),r(21),r(31),r(38),r(322),r(29),r(57);t.a={methods:{auth_verification_code:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o,_,n,c,E,m,f,d,l,U,$,A,T,R,D,v,O,V,I,N,S;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("development"!==(o=t.$config.environment)){r.next=19;break}if(!localStorage.getItem("verify_acct_token")){r.next=14;break}return t.verify_btn=!1,t.verify_btn_load=!0,t.loader="loading",_=localStorage.getItem("verify_acct_token"),n={method:"POST",headers:{Authorization:"Bearer ".concat(_)},body:new URLSearchParams({verification_code:e}),signal:t.controller.signal},r.next=10,t.verify_acct_request(n);case 10:!0===(c=r.sent).status?"error"===(E=t.auth_verification_code_response(c.result)).status?(t.verify_btn=!0,t.verify_btn_load=!1,t.loader="loading",m={value:!0,msg:E.msg,err:!0},t.$store.commit(t.$config.VUEX_UPDATE_ERR_MSG_DIALOG,m),"login"===(f=t.$route.name)?t.$store.commit(t.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_VERIF_ACCT,!0):"signup"===f&&t.$store.commit(t.$config.VUEX_SIGNUP_ROUTE_UPDATE_ENABLE_VERIF_ACCT,!0)):"successful"===E.status&&(d=t.$route.name,localStorage.removeItem("verify_acct_token"),t.verify_btn=!0,t.verify_btn_load=!1,t.loader="loading","login"===d?(t.$store.commit(t.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!1),t.$store.commit(t.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_LOGIN,!1)):"signup"===d&&(t.$store.commit(t.$config.VUEX_SIGNUP_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!1),t.$store.commit(t.$config.VUEX_SIGNUP_ROUTE_UPDATE_ENABLE_SIGNUP,!1)),t.$store.commit(t.$config.VUEX_STORE_USER_DETAILS,E.user_details),localStorage.setItem("access_token",E.access_token),localStorage.setItem("refresh_token",E.refresh_token),l={value:!0,msg:E.msg,err:!1},t.$store.commit(t.$config.VUEX_UPDATE_ERR_MSG_DIALOG,l),setTimeout((function(){"Student"===E.user_details.user_role?t.$router.push(t.$config.student_classesUrl):"Teacher"===E.user_details.user_role&&t.$router.push(t.$config.teacher_classesUrl)}),2e3)):!1===c.status&&(U=t.$route.name,t.verify_btn=!0,t.verify_btn_load=!1,t.loader="loading","login"===U?t.$store.commit(t.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_VERIF_ACCT,!0):"signup"===U&&t.$store.commit(t.$config.VUEX_SIGNUP_ROUTE_UPDATE_ENABLE_VERIF_ACCT,!0),"login"!==U&&"signup"!==U||(!1===t.is_aborting_from_close?setTimeout((function(){t.$store.commit(t.$config.VUEX_UPDATE_ERR_MSG_DIALOG,{value:!0,msg:"An error just occured!",err:!0})}),200):t.is_aborting_from_close=!1)),r.next=17;break;case 14:$={value:!0,msg:"An error just occured!",err:!0},t.$store.commit(t.$config.VUEX_UPDATE_ERR_MSG_DIALOG,$),t.$store.commit(t.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_VERIF_ACCT,!0);case 17:r.next=36;break;case 19:if("production"!==o){r.next=36;break}if("TEST_TOKEN"===t.$store.state.app_tokens.verify_account_token){r.next=33;break}return t.verify_btn=!1,t.verify_btn_load=!0,t.loader="loading",A=t.$store.state.app_tokens.verify_account_token,T={method:"POST",headers:{Authorization:"Bearer ".concat(A)},body:new URLSearchParams({verification_code:e}),signal:t.controller.signal},r.next=29,t.verify_acct_request(T);case 29:!0===(R=r.sent).status?"error"===(D=t.auth_verification_code_response(R.result)).status?(t.verify_btn=!0,t.verify_btn_load=!1,t.loader="loading",v={value:!0,msg:D.msg,err:!0},t.$store.commit(t.$config.VUEX_UPDATE_ERR_MSG_DIALOG,v),"login"===(O=t.$route.name)?t.$store.commit(t.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_VERIF_ACCT,!0):"signup"===O&&t.$store.commit(t.$config.VUEX_SIGNUP_ROUTE_UPDATE_ENABLE_VERIF_ACCT,!0)):"successful"===D.status&&(V=t.$route.name,t.$store.commit("app_tokens/update_verify_account_token",{value:"TEST_TOKEN"}),t.verify_btn=!0,t.verify_btn_load=!1,t.loader="loading","login"===V?(t.$store.commit(t.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!1),t.$store.commit(t.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_LOGIN,!1)):"signup"===V&&(t.$store.commit(t.$config.VUEX_SIGNUP_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!1),t.$store.commit(t.$config.VUEX_SIGNUP_ROUTE_UPDATE_ENABLE_SIGNUP,!1)),t.$store.commit(t.$config.VUEX_STORE_USER_DETAILS,D.user_details),t.$store.commit("app_tokens/update_login_access_token",{value:D.access_token}),I={value:!0,msg:D.msg,err:!1},t.$store.commit(t.$config.VUEX_UPDATE_ERR_MSG_DIALOG,I),setTimeout((function(){"Student"===D.user_details.user_role?t.$router.push(t.$config.student_classesUrl):"Teacher"===D.user_details.user_role&&t.$router.push(t.$config.teacher_classesUrl)}),2e3)):!1===R.status&&(N=t.$route.name,t.verify_btn=!0,t.verify_btn_load=!1,t.loader="loading","login"===N?t.$store.commit(t.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_VERIF_ACCT,!0):"signup"===N&&t.$store.commit(t.$config.VUEX_SIGNUP_ROUTE_UPDATE_ENABLE_VERIF_ACCT,!0),"login"!==N&&"signup"!==N||(!1===t.is_aborting_from_close?setTimeout((function(){t.$store.commit(t.$config.VUEX_UPDATE_ERR_MSG_DIALOG,{value:!0,msg:"An error just occured!",err:!0})}),200):t.is_aborting_from_close=!1)),r.next=36;break;case 33:S={value:!0,msg:"An error just occured!",err:!0},t.$store.commit(t.$config.VUEX_UPDATE_ERR_MSG_DIALOG,S),t.$store.commit(t.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_VERIF_ACCT,!0);case 36:case"end":return r.stop()}}),r)})))()}}}},865:function(e,t,r){"use strict";r(21);t.a={methods:{verify_acct_request:function(e){var t=this;return new Promise((function(r,o){fetch("".concat(t.$config.apiUrl,"/api/v1/verify-account"),e).then((function(e){return e.json()})).then((function(data){r({status:!0,result:data})})).catch((function(e){r({status:!1})}))}))}}}},866:function(e,t,r){"use strict";t.a={methods:{auth_verification_code_response:function(data){if("invalid_credentials"===data.status){return{status:"error",msg:"An error just occured!"}}if("access_denied"===data.status){var e=this.$config.environment;"development"===e?localStorage.removeItem("verify_acct_token"):"production"===e&&this.$store.commit("app_tokens/update_verify_account_token",{value:"TEST_TOKEN"});return{status:"error",msg:"An error just occured!"}}if("error_occured"===data.status){return{status:"error",msg:"An error just occured!"}}if("account_verified_successfully"===data.status){var t=data.user_details;return t.user_settings=data.user_settings,{status:"successful",msg:"Your account has been verified successfully!",user_role:data.user_role,access_token:data.accessToken,refresh_token:data.refreshToken,user_details:t}}if("verification_code_expired"===data.status){return{status:"error",msg:"This verification code has expired!"}}if("invalid_verification_code"===data.status){return{status:"error",msg:"Invalid verification code!"}}if("already_verified"===data.status){return{status:"error",msg:"This account is already verified!"}}if("account_does_not_exist"===data.status){return{status:"error",msg:"This account does not exist!"}}}}}},867:function(e,t,r){"use strict";var o=r(45);r(101),r(21),r(31),r(38),r(322),r(29),r(57);t.a={methods:{resend_verification_code:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o,_,n,c,E,m,f,d,l,U,$,A,T,R,D,v,O,V,I,N,S,P;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("development"!==(r=e.$config.environment)){t.next=20;break}if(!localStorage.getItem("verify_acct_token")){t.next=14;break}return e.resendVerifCode_btn=!1,e.resendVerifCode_btn_load=!0,e.loader="loading",o=localStorage.getItem("verify_acct_token"),_={method:"POST",headers:{Authorization:"Bearer ".concat(o)},body:new URLSearchParams({data:"resend_verification_code"}),signal:e.controller.signal},t.next=10,e.resend_verif_code_request(_);case 10:!0===(n=t.sent).status?"error"===(c=e.resend_verif_code_response(n.result)).status?(e.resendVerifCode_btn=!0,e.resendVerifCode_btn_load=!1,e.loader="loading",E={value:!0,msg:c.msg,err:!0},e.$store.commit(e.$config.VUEX_UPDATE_ERR_MSG_DIALOG,E),"login"===(m=e.$route.name)?e.$store.commit(e.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!0):"signup"===m&&e.$store.commit(e.$config.VUEX_SIGNUP_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!0)):"code_sent"===c.status&&(e.resendVerifCode_btn=!0,e.resendVerifCode_btn_load=!1,e.loader="loading",localStorage.setItem("verify_acct_token",c.access_token),f={value:!0,msg:c.msg,err:!1},e.$store.commit(e.$config.VUEX_UPDATE_ERR_MSG_DIALOG,f),"login"===(d=e.$route.name)?e.$store.commit(e.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!0):"signup"===d&&e.$store.commit(e.$config.VUEX_SIGNUP_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!0)):!1===n.status&&(e.resendVerifCode_btn=!0,e.resendVerifCode_btn_load=!1,e.loader="loading","login"===(l=e.$route.name)?e.$store.commit(e.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!0):"signup"===l&&e.$store.commit(e.$config.VUEX_SIGNUP_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!0),"login"!==l&&"signup"!==l||(!1===e.is_aborting_from_close?setTimeout((function(){e.$store.commit(e.$config.VUEX_UPDATE_ERR_MSG_DIALOG,{value:!0,msg:"An error just occured!",err:!0})}),200):e.is_aborting_from_close=!1)),t.next=18;break;case 14:U={value:!0,msg:"An error just occured!",err:!0},e.$store.commit(e.$config.VUEX_UPDATE_ERR_MSG_DIALOG,U),"login"===($=e.$route.name)?e.$store.commit(e.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!0):"signup"===$&&e.$store.commit(e.$config.VUEX_SIGNUP_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!0);case 18:t.next=38;break;case 20:if("production"!==r){t.next=38;break}if("TEST_TOKEN"===e.$store.state.app_tokens.verify_account_token){t.next=34;break}return e.resendVerifCode_btn=!1,e.resendVerifCode_btn_load=!0,e.loader="loading",A=e.$store.state.app_tokens.verify_account_token,T={method:"POST",headers:{Authorization:"Bearer ".concat(A)},body:new URLSearchParams({data:"resend_verification_code"}),signal:e.controller.signal},t.next=30,e.resend_verif_code_request(T);case 30:!0===(R=t.sent).status?"error"===(D=e.resend_verif_code_response(R.result)).status?(e.resendVerifCode_btn=!0,e.resendVerifCode_btn_load=!1,e.loader="loading",v={value:!0,msg:D.msg,err:!0},e.$store.commit(e.$config.VUEX_UPDATE_ERR_MSG_DIALOG,v),"login"===(O=e.$route.name)?e.$store.commit(e.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!0):"signup"===O&&e.$store.commit(e.$config.VUEX_SIGNUP_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!0)):"code_sent"===D.status&&(e.resendVerifCode_btn=!0,e.resendVerifCode_btn_load=!1,e.loader="loading",e.$store.commit("app_tokens/update_verify_account_token",{value:D.access_token}),V={value:!0,msg:D.msg,err:!1},e.$store.commit(e.$config.VUEX_UPDATE_ERR_MSG_DIALOG,V),"login"===(I=e.$route.name)?e.$store.commit(e.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!0):"signup"===I&&e.$store.commit(e.$config.VUEX_SIGNUP_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!0)):!1===R.status&&(e.resendVerifCode_btn=!0,e.resendVerifCode_btn_load=!1,e.loader="loading","login"===(N=e.$route.name)?e.$store.commit(e.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!0):"signup"===N&&e.$store.commit(e.$config.VUEX_SIGNUP_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!0),"login"!==N&&"signup"!==N||(!1===e.is_aborting_from_close?setTimeout((function(){e.$store.commit(e.$config.VUEX_UPDATE_ERR_MSG_DIALOG,{value:!0,msg:"An error just occured!",err:!0})}),200):e.is_aborting_from_close=!1)),t.next=38;break;case 34:S={value:!0,msg:"An error just occured!",err:!0},e.$store.commit(e.$config.VUEX_UPDATE_ERR_MSG_DIALOG,S),"login"===(P=e.$route.name)?e.$store.commit(e.$config.VUEX_LOGIN_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!0):"signup"===P&&e.$store.commit(e.$config.VUEX_SIGNUP_ROUTE_UPDATE_ENABLE_RESEND_VERIF_CODE,!0);case 38:case"end":return t.stop()}}),t)})))()}}}},868:function(e,t,r){"use strict";r(21);t.a={methods:{resend_verif_code_request:function(e){var t=this;return new Promise((function(r,o){fetch("".concat(t.$config.apiUrl,"/api/v1/resend-verification-code"),e).then((function(e){return e.json()})).then((function(data){r({status:!0,result:data})})).catch((function(e){r({status:!1})}))}))}}}},869:function(e,t,r){"use strict";t.a={methods:{resend_verif_code_response:function(data){if("invalid_credentials"===data.status){return{status:"error",msg:"An error just occured!"}}if("access_denied"===data.status){return{status:"error",msg:"An error just occured!"}}if("error_occured"===data.status){return{status:"error",msg:"An error just occured!"}}if("verification_code_sent"===data.status)return{status:"code_sent",msg:"A new reset code has been sent to your email!",access_token:data.accessToken};if("user_does_not_exist"===data.status){return{status:"error",msg:"This user does not exist!"}}if("already_verified"===data.status){return{status:"error",msg:"This account is already verified!"}}}}}}}]);