(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{831:function(e,t,o){"use strict";var r=o(45);o(101),o(21),o(31),o(38),o(322),o(57);t.a={methods:{delete_class_post_operation:function(e,t,o){var _=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var m,c,n,d,l,$,v,f,h,k,S,I;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!0!==(m=_.$store.state.student_streams_page.student_stream_route_config.delete_class_post)){r.next=19;break}return _.delete_post_loading=!0,_.$store.commit("student_streams_page/stream_comp/update_loaded_posts",{value:!1}),_.$store.commit("student_streams_page/stream_comp/update_loading_linear",{value:!0}),_.$store.commit("student_streams_page/stream_comp/update_refresh_data",{value:!1}),_.$store.commit("student_streams_page/stream_comp/update_can_create_post",{value:!1}),_.$store.commit("student_streams_page/student_stream_route_config/update_fetch_more_posts",{value:!1}),_.$store.commit("student_streams_page/stream_comp/update_spinner",{value:!1}),_.$store.commit("student_streams_page/student_stream_route_config/update_delete_class_post",{value:!1}),c=_.$config.environment,n=null,"development"===c?n={method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("refresh_token"))},body:new URLSearchParams({access_token:localStorage.getItem("access_token"),class_code:t,post_id:e,user_id:o}),signal:_.controller.signal}:"production"===c&&(d=_.$store.state.app_tokens.login_access_token,n={method:"POST",headers:{Authorization:"Bearer ".concat(d)},body:new URLSearchParams({class_code:t,post_id:e,user_id:o}),signal:_.controller.signal}),r.next=15,_.delete_class_post_request(n);case 15:!0===(l=r.sent).status?"error"===($=_.delete_class_post_response(l.result)).status?(_.$store.commit("dialog/delete_post_dialog/reset_data"),_.delete_post_loading=!1,_.$store.commit("student_streams_page/stream_comp/update_loaded_posts",{value:!0}),_.$store.commit("student_streams_page/stream_comp/update_loading_linear",{value:!1}),_.$store.commit("student_streams_page/stream_comp/update_refresh_data",{value:!0}),_.$store.commit("student_streams_page/stream_comp/update_can_create_post",{value:!0}),_.$store.commit("student_streams_page/student_stream_route_config/update_fetch_more_posts",{value:!0}),_.$store.commit("student_streams_page/stream_comp/update_spinner",{value:!1}),_.$store.commit("student_streams_page/student_stream_route_config/update_delete_class_post",{value:!0}),setTimeout((function(){var e={value:!0,msg:$.msg,err:!0};_.$store.commit(_.$config.VUEX_UPDATE_ERR_MSG_DIALOG,e)}),200)):"post_does_not_exist"===$.status?(_.$store.commit("dialog/delete_post_dialog/reset_data"),_.delete_post_loading=!1,_.$store.commit("student_streams_page/stream_comp/update_loaded_posts",{value:!0}),_.$store.commit("student_streams_page/stream_comp/update_loading_linear",{value:!1}),_.$store.commit("student_streams_page/stream_comp/update_refresh_data",{value:!0}),_.$store.commit("student_streams_page/stream_comp/update_can_create_post",{value:!0}),_.$store.commit("student_streams_page/student_stream_route_config/update_fetch_more_posts",{value:!0}),_.$store.commit("student_streams_page/stream_comp/update_spinner",{value:!1}),_.$store.commit("student_streams_page/student_stream_route_config/update_delete_class_post",{value:!0}),_.$store.commit("student_streams_page/stream_comp/remove_deleted_post",{class_code:t,post_id:e}),_.$store.commit("dialog/comment_dialog/delete_comments_for_post",{class_code:t,post_id:e}),setTimeout((function(){var e={value:!0,msg:$.msg,err:!0};_.$store.commit(_.$config.VUEX_UPDATE_ERR_MSG_DIALOG,e)}),200)):"token_expired"===$.status?("development"===(v=_.$config.environment)?(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")):"production"===v&&_.$store.commit("app_tokens/update_login_access_token",{value:null}),_.$store.commit("page_loading/page_loading/update_data",{value:!0}),_.$store.commit("app_components/reset_data"),_.$store.commit("class_details/reset_data"),_.$store.commit("student_streams_page/stream_comp/reset_data"),_.$store.commit("user_details/user_details/reset_data"),_.$router.push("/login/")):"success"===$.status?(null!==$.new_access_token&&("development"===(f=_.$config.environment)?localStorage.setItem("access_token",$.access_token):"production"===f&&_.$store.commit("app_tokens/update_login_access_token",{value:$.access_token})),_.$store.commit("student_streams_page/stream_comp/update_class_post",{class_code:t,post_id:e}),_.$store.commit("dialog/delete_post_dialog/reset_data"),_.delete_post_loading=!1,_.$store.commit("student_streams_page/stream_comp/update_loading_linear",{value:!1}),_.$store.commit("student_streams_page/stream_comp/update_refresh_data",{value:!0}),_.$store.commit("student_streams_page/stream_comp/update_can_create_post",{value:!0}),_.$store.commit("student_streams_page/student_stream_route_config/update_fetch_more_posts",{value:!1}),_.$store.commit("student_streams_page/stream_comp/update_spinner",{value:!1}),_.$store.commit("student_streams_page/student_stream_route_config/update_delete_class_post",{value:!0}),_.$store.commit("dialog/comment_dialog/delete_comments_for_post",{class_code:t,post_id:e}),(h=_.$store.state.student_streams_page.stream_comp.active_class_posts).hasOwnProperty(t)&&(0===h[t].length?(_.$store.commit("student_streams_page/stream_comp/update_loaded_posts",{value:"no_posts"}),_.$store.commit("student_streams_page/stream_comp/remove_class_post",{class_code:t}),_.$store.commit("student_streams_page/stream_comp/remove_offset",{class_code:t})):_.$store.commit("student_streams_page/stream_comp/update_loaded_posts",{value:!0})),setTimeout((function(){_.$store.commit(_.$config.VUEX_UPDATE_ERR_MSG_DIALOG,{value:!0,msg:"Post deleted successfully!",err:!1})}),200)):"role_error"===$.status?("development"===(k=_.$config.environment)?(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")):"production"===k&&_.$store.commit("app_tokens/update_login_access_token",{value:null}),_.$store.commit("page_loading/page_loading/update_data",{value:!0}),_.$store.commit("app_components/reset_data"),_.$store.commit("class_details/reset_data"),_.$store.commit("student_streams_page/stream_comp/reset_data"),_.$store.commit("user_details/user_details/reset_data"),_.$router.push("/login/")):"user_not_found"===$.status?("development"===(S=_.$config.environment)?(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")):"production"===S&&_.$store.commit("app_tokens/update_login_access_token",{value:null}),_.$store.commit("page_loading/page_loading/update_data",{value:!0}),_.$store.commit("app_components/reset_data"),_.$store.commit("class_details/reset_data"),_.$store.commit("student_streams_page/stream_comp/reset_data"),_.$store.commit("user_details/user_details/reset_data"),_.$router.push("/login/")):"invalid_token"===$.status?("development"===(I=_.$config.environment)?(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")):"production"===I&&_.$store.commit("app_tokens/update_login_access_token",{value:null}),_.$store.commit("page_loading/page_loading/update_data",{value:!0}),_.$store.commit("app_components/reset_data"),_.$store.commit("class_details/reset_data"),_.$store.commit("student_streams_page/stream_comp/reset_data"),_.$store.commit("user_details/user_details/reset_data"),_.$router.push("/login/")):"not_part_of_class"===$.status&&("Student"===_.$store.state.user_details.user_details.details.user_role?_.$router.push("/student/classes/"):"Teacher"===_.$store.state.user_details.user_details.details.user_role&&_.$router.push("/teacher/classes/")):!1===l.status&&(_.$store.commit("dialog/delete_post_dialog/reset_data"),_.delete_post_loading=!1,_.$store.commit("student_streams_page/stream_comp/update_loaded_posts",{value:!0}),_.$store.commit("student_streams_page/stream_comp/update_loading_linear",{value:!1}),_.$store.commit("student_streams_page/stream_comp/update_refresh_data",{value:!0}),_.$store.commit("student_streams_page/stream_comp/update_can_create_post",{value:!0}),_.$store.commit("student_streams_page/student_stream_route_config/update_fetch_more_posts",{value:!0}),_.$store.commit("student_streams_page/stream_comp/update_spinner",{value:!1}),_.$store.commit("student_streams_page/student_stream_route_config/update_delete_class_post",{value:!0}),setTimeout((function(){_.$store.commit(_.$config.VUEX_UPDATE_ERR_MSG_DIALOG,{value:!0,msg:"Couldn't delete post!",err:!0})}),200)),r.next=20;break;case 19:!1===m&&_.$store.commit("dialog/msg_dialog/update_dialog",{value:!0,msg:"Can't delete post at this point!"});case 20:case"end":return r.stop()}}),r)})))()}}}},832:function(e,t,o){"use strict";o(21);t.a={methods:{delete_class_post_request:function(e){var t=this;return new Promise((function(o,r){fetch("".concat(t.$config.apiUrl,"/api/v1/student/delete-post"),e).then((function(e){return e.json()})).then((function(data){o({status:!0,result:data})})).catch((function(e){o({status:!1})}))}))}}}},833:function(e,t,o){"use strict";t.a={methods:{delete_class_post_response:function(data){if("missing_credentials"===data.status){return{status:"error",msg:"Couldn't delete post!"}}if("error_occured"===data.status){return{status:"error",msg:"Couldn't delete post!"}}if("token_expired"===data.status){return{status:"token_expired"}}if("post_deleted"===data.status){if("token_available"===data.token_info)return{status:"success",access_token:data.new_accessToken};if("no_token"===data.token_info){return{status:"success",access_token:null}}}else{if("post_does_not_exist"===data.status){return{status:"post_does_not_exist",msg:"This post does not exist!"}}if("user_id_mismatch"===data.status){return{status:"error",msg:"Couldn't delete post!"}}if("class_does_not_exist"===data.status){return{status:"error",msg:"Couldn't delete post!"}}if("role_error"===data.status){return{status:"role_error"}}if("user_not_found"===data.status){return{status:"user_not_found"}}if("invalid_token"===data.status){return{status:"invalid_token"}}if("not_part_of_class"===data.status){return{status:"not_part_of_class"}}}}}}},834:function(e,t,o){"use strict";var r=o(45);o(101),o(21),o(31),o(38),o(322),o(57);t.a={methods:{teacher_delete_class_post_operation:function(e,t,o){var _=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var m,c,n,d,l,$,v,f,h,k,S,I;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!0!==(m=_.$store.state.teacher_streams_page.teacher_stream_route_config.delete_class_post)){r.next=19;break}return _.delete_post_loading=!0,_.$store.commit("teacher_streams_page/stream_comp/update_loaded_posts",{value:!1}),_.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!0}),_.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!1}),_.$store.commit("teacher_streams_page/stream_comp/update_can_create_post",{value:!1}),_.$store.commit("teacher_streams_page/teacher_stream_route_config/update_fetch_more_posts",{value:!1}),_.$store.commit("teacher_streams_page/stream_comp/update_spinner",{value:!1}),_.$store.commit("teacher_streams_page/teacher_stream_route_config/update_delete_class_post",{value:!1}),c=_.$config.environment,n=null,"development"===c?n={method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("refresh_token"))},body:new URLSearchParams({access_token:localStorage.getItem("access_token"),class_code:t,post_id:e,user_id:o}),signal:_.controller.signal}:"production"===c&&(d=_.$store.state.app_tokens.login_access_token,n={method:"POST",headers:{Authorization:"Bearer ".concat(d)},body:new URLSearchParams({class_code:t,post_id:e,user_id:o}),signal:_.controller.signal}),r.next=15,_.teacher_delete_class_post_request(n);case 15:!0===(l=r.sent).status?"error"===($=_.teacher_delete_class_post_response(l.result)).status?(_.$store.commit("dialog/delete_post_dialog/reset_data"),_.delete_post_loading=!1,_.$store.commit("teacher_streams_page/stream_comp/update_loaded_posts",{value:!0}),_.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!1}),_.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),_.$store.commit("teacher_streams_page/stream_comp/update_can_create_post",{value:!0}),_.$store.commit("teacher_streams_page/teacher_stream_route_config/update_fetch_more_posts",{value:!0}),_.$store.commit("teacher_streams_page/stream_comp/update_spinner",{value:!1}),_.$store.commit("teacher_streams_page/teacher_stream_route_config/update_delete_class_post",{value:!0}),setTimeout((function(){var e={value:!0,msg:$.msg,err:!0};_.$store.commit(_.$config.VUEX_UPDATE_ERR_MSG_DIALOG,e)}),200)):"post_does_not_exist"===$.status?(_.$store.commit("dialog/delete_post_dialog/reset_data"),_.delete_post_loading=!1,_.$store.commit("teacher_streams_page/stream_comp/update_loaded_posts",{value:!0}),_.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!1}),_.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),_.$store.commit("teacher_streams_page/stream_comp/update_can_create_post",{value:!0}),_.$store.commit("teacher_streams_page/teacher_stream_route_config/update_fetch_more_posts",{value:!0}),_.$store.commit("teacher_streams_page/stream_comp/update_spinner",{value:!1}),_.$store.commit("teacher_streams_page/teacher_stream_route_config/update_delete_class_post",{value:!0}),_.$store.commit("teacher_streams_page/stream_comp/remove_deleted_post",{class_code:t,post_id:e}),_.$store.commit("dialog/comment_dialog/delete_comments_for_post",{class_code:t,post_id:e}),setTimeout((function(){var e={value:!0,msg:$.msg,err:!0};_.$store.commit(_.$config.VUEX_UPDATE_ERR_MSG_DIALOG,e)}),200)):"token_expired"===$.status?("development"===(v=_.$config.environment)?(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")):"production"===v&&_.$store.commit("app_tokens/update_login_access_token",{value:null}),_.$store.commit("page_loading/page_loading/update_data",{value:!0}),_.$store.commit("app_components/reset_data"),_.$store.commit("class_details/reset_data"),_.$store.commit("teacher_streams_page/stream_comp/reset_data"),_.$store.commit("user_details/user_details/reset_data"),_.$router.push("/login/")):"success"===$.status?(null!==$.new_access_token&&("development"===(f=_.$config.environment)?localStorage.setItem("access_token",$.access_token):"production"===f&&_.$store.commit("app_tokens/update_login_access_token",{value:$.access_token})),_.$store.commit("teacher_streams_page/stream_comp/update_class_post",{class_code:t,post_id:e}),_.$store.commit("dialog/delete_post_dialog/reset_data"),_.delete_post_loading=!1,_.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!1}),_.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),_.$store.commit("teacher_streams_page/stream_comp/update_can_create_post",{value:!0}),_.$store.commit("teacher_streams_page/teacher_stream_route_config/update_fetch_more_posts",{value:!1}),_.$store.commit("teacher_streams_page/stream_comp/update_spinner",{value:!1}),_.$store.commit("teacher_streams_page/teacher_stream_route_config/update_delete_class_post",{value:!0}),_.$store.commit("dialog/comment_dialog/delete_comments_for_post",{class_code:t,post_id:e}),(h=_.$store.state.teacher_streams_page.stream_comp.active_class_posts).hasOwnProperty(t)&&(0===h[t].length?(_.$store.commit("teacher_streams_page/stream_comp/update_loaded_posts",{value:"no_posts"}),_.$store.commit("teacher_streams_page/stream_comp/remove_class_post",{class_code:t}),_.$store.commit("teacher_streams_page/stream_comp/remove_offset",{class_code:t})):_.$store.commit("teacher_streams_page/stream_comp/update_loaded_posts",{value:!0})),setTimeout((function(){_.$store.commit(_.$config.VUEX_UPDATE_ERR_MSG_DIALOG,{value:!0,msg:"Post deleted successfully!",err:!1})}),200)):"role_error"===$.status?("development"===(k=_.$config.environment)?(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")):"production"===k&&_.$store.commit("app_tokens/update_login_access_token",{value:null}),_.$store.commit("page_loading/page_loading/update_data",{value:!0}),_.$store.commit("app_components/reset_data"),_.$store.commit("class_details/reset_data"),_.$store.commit("teacher_streams_page/stream_comp/reset_data"),_.$store.commit("user_details/user_details/reset_data"),_.$router.push("/login/")):"user_not_found"===$.status?("development"===(S=_.$config.environment)?(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")):"production"===S&&_.$store.commit("app_tokens/update_login_access_token",{value:null}),_.$store.commit("page_loading/page_loading/update_data",{value:!0}),_.$store.commit("app_components/reset_data"),_.$store.commit("class_details/reset_data"),_.$store.commit("teacher_streams_page/stream_comp/reset_data"),_.$store.commit("user_details/user_details/reset_data"),_.$router.push("/login/")):"invalid_token"===$.status?("development"===(I=_.$config.environment)?(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")):"production"===I&&_.$store.commit("app_tokens/update_login_access_token",{value:null}),_.$store.commit("page_loading/page_loading/update_data",{value:!0}),_.$store.commit("app_components/reset_data"),_.$store.commit("class_details/reset_data"),_.$store.commit("teacher_streams_page/stream_comp/reset_data"),_.$store.commit("user_details/user_details/reset_data"),_.$router.push("/login/")):"not_part_of_class"===$.status&&_.$router.push("/teacher/classes/"):!1===l.status&&(_.$store.commit("dialog/delete_post_dialog/reset_data"),_.delete_post_loading=!1,_.$store.commit("teacher_streams_page/stream_comp/update_loaded_posts",{value:!0}),_.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!1}),_.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),_.$store.commit("teacher_streams_page/stream_comp/update_can_create_post",{value:!0}),_.$store.commit("teacher_streams_page/teacher_stream_route_config/update_fetch_more_posts",{value:!0}),_.$store.commit("teacher_streams_page/stream_comp/update_spinner",{value:!1}),_.$store.commit("teacher_streams_page/teacher_stream_route_config/update_delete_class_post",{value:!0}),setTimeout((function(){_.$store.commit(_.$config.VUEX_UPDATE_ERR_MSG_DIALOG,{value:!0,msg:"Couldn't delete post!",err:!0})}),200)),r.next=20;break;case 19:!1===m&&_.$store.commit("dialog/msg_dialog/update_dialog",{value:!0,msg:"Can't delete post at this point!"});case 20:case"end":return r.stop()}}),r)})))()}}}},835:function(e,t,o){"use strict";o(21);t.a={methods:{teacher_delete_class_post_request:function(e){var t=this;return new Promise((function(o,r){fetch("".concat(t.$config.apiUrl,"/api/v1/teacher/delete-post"),e).then((function(e){return e.json()})).then((function(data){o({status:!0,result:data})})).catch((function(e){o({status:!1})}))}))}}}},836:function(e,t,o){"use strict";t.a={methods:{teacher_delete_class_post_response:function(data){if("missing_credentials"===data.status){return{status:"error",msg:"Couldn't delete post!"}}if("error_occured"===data.status){return{status:"error",msg:"Couldn't delete post!"}}if("token_expired"===data.status){return{status:"token_expired"}}if("post_deleted"===data.status){if("token_available"===data.token_info)return{status:"success",access_token:data.new_accessToken};if("no_token"===data.token_info){return{status:"success",access_token:null}}}else{if("post_does_not_exist"===data.status){return{status:"post_does_not_exist",msg:"This post does not exist!"}}if("user_id_mismatch"===data.status){return{status:"error",msg:"Couldn't delete post!"}}if("class_does_not_exist"===data.status){return{status:"error",msg:"Couldn't delete post!"}}if("role_error"===data.status){return{status:"role_error"}}if("user_not_found"===data.status){return{status:"user_not_found"}}if("invalid_token"===data.status){return{status:"invalid_token"}}if("not_part_of_class"===data.status){return{status:"not_part_of_class"}}}}}}}}]);