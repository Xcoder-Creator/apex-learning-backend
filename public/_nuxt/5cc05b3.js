(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{588:function(e,t,o){"use strict";var r=o(22);o(39),o(73),o(32),o(70),o(128),o(57),o(58),o(90),o(102),o(42);t.a={methods:{date_picker_utility:function(e){if(!1===this.started){var t=e.split("-"),o=Object(r.a)(t,3),n=o[0],_=o[1],c=o[2];this.date="".concat(_," ").concat(c,", ").concat(n);var l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],m=(e=new Date,String(l[parseInt(_)-1])+" "+String(parseInt(c))+", "+parseInt(n));this.month=String(l[parseInt(_)-1]),this.day=String(parseInt(c)),this.year=parseInt(n),this.date=m}else if(!0===this.started){l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=new Date,m=String(l[e.getMonth()])+" "+String(e.getDate())+", "+e.getFullYear();this.month=String(l[e.getMonth()]),this.day=String(e.getDate()),this.year=e.getFullYear(),this.date=m}},remove_option_utility:function(e,option){var t=this;if(this.questions_array[e].options.length>2){var o=this.questions_array[e].options[option].opt,r=this.questions_array[e].options.map((function(object){return object.opt})).indexOf(o);this.questions_array[e].options.splice(r,1);var n=this.questions_array[e];this.questions_array.splice(e,1),this.questions_array[e]=n;this.$store.commit(this.$config.VUEX_UPDATE_SNACKBAR,{value:!0,text:"Option deleted!"}),setTimeout((function(){t.$store.commit(t.$config.VUEX_UPDATE_SNACKBAR,{value:!1})}),1e3)}else{this.$store.commit(this.$config.VUEX_UPDATE_ERR_MSG_DIALOG,{value:!0,msg:"A minimum of two options is required!",err:!0})}},add_option_utility:function(i){var e=this;if(this.questions_array[i].options.length<4){this.questions_array[i].options.push({opt:""});this.$store.commit(this.$config.VUEX_UPDATE_SNACKBAR,{value:!0,text:"Option added!"}),setTimeout((function(){e.$store.commit(e.$config.VUEX_UPDATE_SNACKBAR,{value:!1})}),1e3)}else{this.$store.commit(this.$config.VUEX_UPDATE_ERR_MSG_DIALOG,{value:!0,msg:"More than 4 options is not allowed!",err:!0})}},add_question_utility:function(){var e=this;if(this.questions_array.length<30){this.questions_array.push({question:"",answer:"",options:[{opt:""},{opt:""}]});this.$store.commit(this.$config.VUEX_UPDATE_SNACKBAR,{value:!0,text:"Question added!"}),setTimeout((function(){e.$store.commit(e.$config.VUEX_UPDATE_SNACKBAR,{value:!1})}),1e3)}else{this.$store.commit(this.$config.VUEX_UPDATE_ERR_MSG_DIALOG,{value:!0,msg:"Can't have more than 30 questions!",err:!0})}},leave_input_utility:function(){if(/^ *$/.test(this.time)||null===this.time||void 0===this.time)this.time="11:59 pm";else{var e=this.time.split('"').join("").replace(/^[ ]+|[ ]+$/g,"").trim().replace(/ /g,""),t=e.slice(-2),o=e.slice(0,-2);if(/^(1[0-2]|0?[1-9]):([0-5]?[0-9])(●?[AP]M)?$/.test(o)){var r="";"PM"===t||"pm"===t?(r=o+" pm",this.time=r):"AM"===t||"am"===t?(r=o+" am",this.time=r):(r=o+" pm",this.time=r)}else this.time="11:59 pm"}},reset_dialog_utility:function(){var e=this;if(!0===this.can_reset){this.started=!0,this.title="",this.instruction="",this.points=null,this.time="11:59 pm";var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=new Date,r=String(t[o.getMonth()])+" "+String(o.getDate())+", "+o.getFullYear();this.month=String(t[o.getMonth()]),this.day=String(o.getDate()),this.year=o.getFullYear(),this.picker="",setTimeout((function(){e.date=r}),3),this.questions_array=null,this.questions_array=[{question:"",answer:"",options:[{opt:""},{opt:""}]}],this.calendar=!1,this.create_quiz=!1,setTimeout((function(){e.create_quiz=!0}),5);this.$store.commit(this.$config.VUEX_UPDATE_SNACKBAR,{value:!0,text:"Data reset!"}),setTimeout((function(){e.started=!1}),5),setTimeout((function(){e.$store.commit(e.$config.VUEX_UPDATE_SNACKBAR,{value:!1})}),1e3)}},delete_question_utility:function(e){var t=this;if(this.questions_array.length>1){this.questions_array.splice(e,1);this.$store.commit(this.$config.VUEX_UPDATE_SNACKBAR,{value:!0,text:"Question deleted!"}),setTimeout((function(){t.$store.commit(t.$config.VUEX_UPDATE_SNACKBAR,{value:!1})}),1e3)}else{this.$store.commit(this.$config.VUEX_UPDATE_ERR_MSG_DIALOG,{value:!0,msg:"A minimum of one question is required!",err:!0})}},get_full_date:function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=new Date,o=String(e[t.getMonth()])+" "+String(t.getDate())+", "+t.getFullYear();this.month=String(e[t.getMonth()]),this.day=String(t.getDate()),this.year=t.getFullYear(),this.date=o}}}},825:function(e,t,o){"use strict";var r=o(45);o(101),o(41),o(39),o(58),o(90),o(102),o(73),o(42),o(14);t.a={methods:{validate_classwork:function(title,e,t,o,time,n,_,c,l){var m=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var d,h,$,f,v,k,w,A,E,S,D,U,R,y,T,M,P,G,I,O,V,X,L,J,N,x,C;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:m.started=!0,m.can_assign_work=!1,"assignment"===c||"classwork"===c?(d="",/^ *$/.test(title)||null==title?(h={value:!0,msg:"Title is required!",err:!0},m.$store.commit(m.$config.VUEX_UPDATE_ERR_MSG_DIALOG,h),m.started=!1,m.can_assign_work=!0):(d=/^ *$/.test(e)||null==e?null:e,"number"==typeof t&&[5,10,15,20,30,100].includes(t)?o===n?/^ *$/.test(time)||null==time?($={value:!0,msg:"Time is required!",err:!0},m.$store.commit(m.$config.VUEX_UPDATE_ERR_MSG_DIALOG,$),m.started=!1,m.can_assign_work=!0):(f=time.split('"').join("").replace(/^[ ]+|[ ]+$/g,"").trim().replace(/ /g,""),v=f.slice(-2),k=f.slice(0,-2),/^(1[0-2]|0?[1-9]):([0-5]?[0-9])(●?[AP]M)?$/.test(k)?"PM"===v||"pm"===v||"AM"===v||"am"===v?(w=k+" ".concat(v),A=0,E=0,S=0,_.forEach((function(element){var e=element.question;(/^ *$/.test(e)||null==e)&&(A+=1)})),0===A?(_.forEach((function(element){var e=element.answer;(/^ *$/.test(e)||null==e)&&(E+=1)})),0===E?(_.forEach((function(element){element.options.forEach((function(data){var option=data.opt;(/^ *$/.test(option)||null==option)&&(S+=1)}))})),0===S?(m.started=!1,m.can_reset=!1,m.assign_btn=!1,m.assign_btn_load=!0,m.assign_classwork_operation(title,d,t,w,l,_,c,m.$route.query.class_code)):S>0&&(D={value:!0,msg:"Option is missing for a particular question!",err:!0},m.$store.commit(m.$config.VUEX_UPDATE_ERR_MSG_DIALOG,D),m.started=!1,m.can_assign_work=!0)):E>0&&(U={value:!0,msg:"Answer is missing for a particular question!",err:!0},m.$store.commit(m.$config.VUEX_UPDATE_ERR_MSG_DIALOG,U),m.started=!1,m.can_assign_work=!0)):A>0&&(R={value:!0,msg:"Prompt is missing for a particular question!",err:!0},m.$store.commit(m.$config.VUEX_UPDATE_ERR_MSG_DIALOG,R),m.started=!1,m.can_assign_work=!0)):(y={value:!0,msg:"Invalid time provided!",err:!0},m.$store.commit(m.$config.VUEX_UPDATE_ERR_MSG_DIALOG,y),m.started=!1,m.can_assign_work=!0):(T={value:!0,msg:"Invalid time provided!",err:!0},m.$store.commit(m.$config.VUEX_UPDATE_ERR_MSG_DIALOG,T),m.started=!1,m.can_assign_work=!0)):(M={value:!0,msg:"Check the date provided!",err:!0},m.$store.commit(m.$config.VUEX_UPDATE_ERR_MSG_DIALOG,M),m.started=!1,m.can_assign_work=!0):(P={value:!0,msg:"Points is required!",err:!0},m.$store.commit(m.$config.VUEX_UPDATE_ERR_MSG_DIALOG,P),m.started=!1,m.can_assign_work=!0))):"attendance"===c&&(/^ *$/.test(title)||null==title?(G={value:!0,msg:"Title is required!",err:!0},m.$store.commit(m.$config.VUEX_UPDATE_ERR_MSG_DIALOG,G),m.started=!1,m.can_assign_work=!0):"number"==typeof t&&[5,10,15,20,30,100].includes(t)?o===n?/^ *$/.test(time)||null==time?(I={value:!0,msg:"Time is required!",err:!0},m.$store.commit(m.$config.VUEX_UPDATE_ERR_MSG_DIALOG,I),m.started=!1,m.can_assign_work=!0):(O=time.split('"').join("").replace(/^[ ]+|[ ]+$/g,"").trim().replace(/ /g,""),V=O.slice(-2),X=O.slice(0,-2),/^(1[0-2]|0?[1-9]):([0-5]?[0-9])(●?[AP]M)?$/.test(X)?"PM"===V||"pm"===V||"AM"===V||"am"===V?(L=X+" ".concat(V),m.started=!1,m.can_reset=!1,m.assign_btn=!1,m.assign_btn_load=!0,m.assign_classwork_operation(title,null,t,L,l,null,c,m.$route.query.class_code)):(J={value:!0,msg:"Invalid time provided!",err:!0},m.$store.commit(m.$config.VUEX_UPDATE_ERR_MSG_DIALOG,J),m.started=!1,m.can_assign_work=!0):(N={value:!0,msg:"Invalid time provided!",err:!0},m.$store.commit(m.$config.VUEX_UPDATE_ERR_MSG_DIALOG,N),m.started=!1,m.can_assign_work=!0)):(x={value:!0,msg:"Check the date provided!",err:!0},m.$store.commit(m.$config.VUEX_UPDATE_ERR_MSG_DIALOG,x),m.started=!1,m.can_assign_work=!0):(C={value:!0,msg:"Points is required!",err:!0},m.$store.commit(m.$config.VUEX_UPDATE_ERR_MSG_DIALOG,C),m.started=!1,m.can_assign_work=!0));case 3:case"end":return r.stop()}}),r)})))()}}}},826:function(e,t,o){"use strict";var r=o(45);o(101),o(21),o(31),o(38),o(322),o(29);t.a={methods:{assign_classwork_operation:function(title,e,t,time,o,n,_,c){var l=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var m,d,h,$,f,v,k,w,A,E,S,D,U,R,y,T;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!0}),l.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!1}),l.$store.commit("teacher_classwork_page/classwork_comp/update_classwork_fetched",{value:!1}),l.$store.commit("teacher_classwork_page/classwork_comp/empty_classwork_for_class",{class_code:c}),m=l.$config.environment,d=null,"development"===m?d={method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("refresh_token"))},body:new URLSearchParams({access_token:localStorage.getItem("access_token"),title:title,instruction:e,points:t,time:time,date_object:JSON.stringify(o),questions_array:JSON.stringify(n),classwork_type:_,class_code:c}),signal:l.controller.signal}:"production"===m&&(h=l.$store.state.app_tokens.login_access_token,d={method:"POST",headers:{Authorization:"Bearer ".concat(h)},body:new URLSearchParams({title:title,instruction:e,points:t,time:time,date_object:JSON.stringify(o),questions_array:JSON.stringify(n),classwork_type:_,class_code:c}),signal:l.controller.signal}),r.next=9,l.assign_classwork_request(d);case 9:!0===($=r.sent).status?"error"===(f=l.assign_classwork_response($.result)).status?(l.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!0}),l.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),l.$store.commit("teacher_classwork_page/classwork_comp/update_classwork_fetched",{value:!1}),v={value:!0,msg:"Couldn't assign classwork!",err:!0},l.$store.commit(l.$config.VUEX_UPDATE_ERR_MSG_DIALOG,v),l.can_reset=!0,l.assign_btn=!0,l.assign_btn_load=!1,l.can_assign_work=!0,l.reset_dialog_utility(),l.$store.commit("create_assignment_dialog/update_dialog",{value:!1})):"token_expired"===f.status?("development"===(k=l.$config.environment)?(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")):"production"===k&&l.$store.commit("app_tokens/update_login_access_token",{value:null}),l.$store.commit("page_loading/page_loading/update_data",{value:!0}),l.$store.commit("app_components/reset_data"),l.$store.commit("class_details/reset_data"),l.$store.commit("student_streams_page/stream_comp/reset_data"),l.$store.commit("user_details/user_details/reset_data"),l.$router.push("/login/")):"success"===f.status?(null!==f.new_access_token&&("development"===(w=l.$config.environment)?localStorage.setItem("access_token",f.new_access_token):"production"===w&&l.$store.commit("app_tokens/update_login_access_token",{value:f.new_access_token})),"classworks_available"===f.state?(l.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!1}),l.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),l.$store.commit("teacher_classwork_page/classwork_comp/add_new_classwork",{class_code:f.class_code,classworks:f.classworks}),l.$store.commit("teacher_classwork_page/classwork_comp/update_classwork_fetched",{value:!0}),A={value:!0,msg:"Work assigned successfully!",err:!1},l.$store.commit(l.$config.VUEX_UPDATE_ERR_MSG_DIALOG,A),l.can_reset=!0,l.assign_btn=!0,l.assign_btn_load=!1,l.can_assign_work=!0,l.reset_dialog_utility(),l.$store.commit("create_assignment_dialog/update_dialog",{value:!1}),l.$store.commit("create_classwork_dialog/update_dialog",{value:!1}),l.$store.commit("create_attendance_dialog/update_dialog",{value:!1})):"no_classworks"===f.state&&(l.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!1}),l.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),l.$store.commit("teacher_classwork_page/classwork_comp/update_classwork_fetched",{value:"no_classwork"}),E={value:!0,msg:"Work assigned successfully!",err:!1},l.$store.commit(l.$config.VUEX_UPDATE_ERR_MSG_DIALOG,E),l.can_reset=!0,l.assign_btn=!0,l.assign_btn_load=!1,l.can_assign_work=!0,l.reset_dialog_utility(),l.$store.commit("create_assignment_dialog/update_dialog",{value:!1}))):"not_teacher_of_class"===f.status?(null!==f.new_access_token&&("development"===(S=l.$config.environment)?localStorage.setItem("access_token",f.new_access_token):"production"===S&&l.$store.commit("app_tokens/update_login_access_token",{value:f.new_access_token})),l.page_view=!1,l.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!1}),l.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!1}),l.$store.commit("teacher_classwork_page/classwork_comp/update_classwork_fetched",{value:!1}),l.$store.commit("teacher_classwork_page/classwork_comp/empty_classwork_for_class",{class_code:c}),l.$router.push(l.$config.teacher_classesUrl)):"class_does_not_exist"===f.status?(null!==f.new_access_token&&("development"===(D=l.$config.environment)?localStorage.setItem("access_token",f.new_access_token):"production"===D&&l.$store.commit("app_tokens/update_login_access_token",{value:f.new_access_token})),l.page_view=!1,l.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!1}),l.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!1}),l.$store.commit("teacher_classwork_page/classwork_comp/update_classwork_fetched",{value:!1}),l.$store.commit("teacher_classwork_page/classwork_comp/empty_classwork_for_class",{class_code:c}),l.$router.push(l.$config.teacher_classesUrl)):"role_error"===f.status?("development"===(U=l.$config.environment)?(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")):"production"===U&&l.$store.commit("app_tokens/update_login_access_token",{value:null}),l.$store.commit("page_loading/page_loading/update_data",{value:!0}),l.$store.commit("app_components/reset_data"),l.$store.commit("class_details/reset_data"),l.$store.commit("student_streams_page/stream_comp/reset_data"),l.$store.commit("user_details/user_details/reset_data"),l.$router.push("/login/")):"user_not_found"===f.status?("development"===(R=l.$config.environment)?(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")):"production"===R&&l.$store.commit("app_tokens/update_login_access_token",{value:null}),l.$store.commit("page_loading/page_loading/update_data",{value:!0}),l.$store.commit("app_components/reset_data"),l.$store.commit("class_details/reset_data"),l.$store.commit("student_streams_page/stream_comp/reset_data"),l.$store.commit("user_details/user_details/reset_data"),l.$router.push("/login/")):"invalid_token"===f.status&&("development"===(y=l.$config.environment)?(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")):"production"===y&&l.$store.commit("app_tokens/update_login_access_token",{value:null}),l.$store.commit("page_loading/page_loading/update_data",{value:!0}),l.$store.commit("app_components/reset_data"),l.$store.commit("class_details/reset_data"),l.$store.commit("student_streams_page/stream_comp/reset_data"),l.$store.commit("user_details/user_details/reset_data"),l.$router.push("/login/")):!1===$.status&&"teacher-classwork"===l.$route.name&&(l.$store.commit("teacher_streams_page/stream_comp/update_loading_linear",{value:!0}),l.$store.commit("teacher_streams_page/stream_comp/update_refresh_data",{value:!0}),l.$store.commit("teacher_classwork_page/classwork_comp/update_classwork_fetched",{value:!1}),T={value:!0,msg:"Couldn't assign work!",err:!0},l.$store.commit(l.$config.VUEX_UPDATE_ERR_MSG_DIALOG,T),l.can_reset=!0,l.assign_btn=!0,l.assign_btn_load=!1,l.can_assign_work=!0,l.reset_dialog_utility(),l.$store.commit("create_assignment_dialog/update_dialog",{value:!1}));case 11:case"end":return r.stop()}}),r)})))()}}}},827:function(e,t,o){"use strict";o(21);t.a={methods:{assign_classwork_request:function(e){var t=this;return new Promise((function(o,r){fetch("".concat(t.$config.apiUrl,"/api/v1/teacher/assign-classwork"),e).then((function(e){return e.json()})).then((function(data){o({status:!0,result:data})})).catch((function(e){o({status:!1,err:e})}))}))}}}},828:function(e,t,o){"use strict";t.a={methods:{assign_classwork_response:function(data){if("missing_credentials"===data.status){return{status:"error"}}if("error_occured"===data.status){return{status:"error"}}if("token_expired"===data.status){return{status:"token_expired"}}if("successfull"===data.status){var e="",t=null;return!0===data.result.value?e="classworks_available":!1===data.result.value&&(e="no_classworks"),"token_available"===data.token_info?t=data.new_accessToken:"no_token"===data.token_info&&(t=null),{status:"success",state:e,classworks:data.result.classworks,class_code:data.class_code,new_access_token:t}}if("not_teacher_of_class"===data.status){return{status:"not_teacher_of_class"}}if("class_does_not_exist"===data.status){var o=null;return"token_available"===data.token_info?o=data.new_accessToken:"no_token"===data.token_info&&(o=null),{status:"class_does_not_exist",new_access_token:o}}if("role_error"===data.status){return{status:"role_error"}}if("user_not_found"===data.status){return{status:"user_not_found"}}if("invalid_token"===data.status){return{status:"invalid_token"}}}}}}}]);